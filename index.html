<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/main.css">
    <title>HW11_UDOT</title>
</head>

<body class="wrapper">
    <div class="block-scheme">
        <h1>Required</h1>
        <div id="required">
            <button id='getServerData'>
                Получить данные...
            </button>
            <p>Status: <span id="statusString"></span></p>
            <select name="listUser" id="listUser">
                <option selected disabled value="empty">Выберите пользователя</option>
            </select>
            <button id="getAvatar">Вывести аватар</button>
        </div>
    </div>
    <div class="block-scheme">
        <h1>Additional</h1>
        <div id="additonalOne">
        </div>
    </div>

    <div class="block-scheme">
        <h1 class='black'>Additional #2</h1>
        <div id="additonalTwo">
            <img src="./img/form.jpg" >
            <img src="./img/toualet.jpg" >
                <pre>
    loadFile.onchange = (event) => {
        let reader = new FileReader()
        reader.readAsDataURL(loadFile.files[0])
        reader.onload = (event) => {
            if (loadFile.files[0].size < 100000 
            && event.target.result.indexOf(':image/') !== -1) {
                smallIcon.src = event.target.result
                imgSrc.value = event.target.result
            }
            else {
                console.warn('Большой размер файла или неверный формат!!!')
                smallIcon.alt = 'Большой размер файла или неверный формат!!!'
                }
        }
    }
    submit.onclick = (event) => {
        event.preventDefault()
        let formData = new FormData(registration)
        res = {}
        formData.forEach(
            (val, key) => Object.assign(res, { [key]: val })
        )
        fetch('http://ptsv2.com/t/udot-a/post', {
            method: "POST",
            headers: {
            "Content-Type": "application/json"
            },
            body: JSON.stringify(res)
        })
            .then(response => response.json()).then(response => console.log(response))
                    }
    </pre>
        </div>
        <script src="./hw13.js"></script>
</body>

</html>